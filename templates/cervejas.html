
{% extends "base.html" %}

{% block title %}Cervejas - BeerPrice{% endblock %}

{% block content %}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1><i class="fas fa-beer"></i> Cervejas</h1>
        <a href="{{ url_for('cadastrar_cerveja') }}" class="btn">
            <i class="fas fa-plus"></i> Cadastrar Cerveja
        </a>
    </div>
    
    <div style="margin-bottom: 2rem;">
        <input type="text" id="search-input" class="form-control" placeholder="Buscar cervejas..." style="max-width: 400px;">
    </div>
    
    <div class="grid grid-3" id="cervejas-grid">
        {% for cerveja in cervejas %}
        <div class="price-item cerveja-item" data-nome="{{ cerveja.nome.lower() }}" data-marca="{{ cerveja.marca.lower() }}" data-tipo="{{ cerveja.tipo.lower() }}">
            <h3>{{ cerveja.marca }} {{ cerveja.nome }}</h3>
            <p><i class="fas fa-wine-bottle"></i> <strong>Tipo:</strong> {{ cerveja.tipo }}</p>
            <p><i class="fas fa-ruler"></i> <strong>Volume:</strong> {{ cerveja.volume }}</p>
            {% if cerveja.descricao %}
            <p><i class="fas fa-info-circle"></i> <strong>Descrição:</strong> {{ cerveja.descricao }}</p>
            {% endif %}
            <p style="color: #999; font-size: 0.9rem;">
                Cadastrada em {{ cerveja.data_cadastro.strftime('%d/%m/%Y') }}
            </p>
        </div>
        {% endfor %}
    </div>
    
    {% if not cervejas %}
    <div style="text-align: center; padding: 2rem; color: #999;">
        <i class="fas fa-beer" style="font-size: 3rem; margin-bottom: 1rem;"></i>
        <p>Nenhuma cerveja cadastrada ainda.</p>
        <a href="{{ url_for('cadastrar_cerveja') }}" class="btn">Cadastrar a primeira cerveja</a>
    </div>
    {% endif %}
</div>

<script>
document.getElementById('search-input').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    const cervejas = document.querySelectorAll('.cerveja-item');
    
    cervejas.forEach(cerveja => {
        const nome = cerveja.dataset.nome;
        const marca = cerveja.dataset.marca;
        const tipo = cerveja.dataset.tipo;
        
        if (nome.includes(searchTerm) || marca.includes(searchTerm) || tipo.includes(searchTerm)) {
            cerveja.style.display = 'block';
        } else {
            cerveja.style.display = 'none';
        }
    });
});
</script>
{% endblock %}
